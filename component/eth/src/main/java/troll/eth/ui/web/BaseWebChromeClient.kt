package troll.eth.ui.webimport android.webkit.ConsoleMessageimport android.webkit.JsResultimport android.webkit.WebChromeClientimport android.webkit.WebViewimport androidx.appcompat.app.AlertDialogimport troll.btc.log.iimport troll.eth.R/** * author : TangPeng * date : 12/5/22 11:29 * description : */class BaseWebChromeClient : WebChromeClient() {    override fun onConsoleMessage(consoleMessage: ConsoleMessage?): Boolean {        consoleMessage?.message()?.i("BaseWebChromeClient")        return super.onConsoleMessage(consoleMessage)    }    override fun onJsAlert(        view: WebView?,        url: String?,        message: String?,        result: JsResult?    ): Boolean {        view?.context?.let {            AlertDialog.Builder(it)                .setTitle(R.string.eth_warning)                .setMessage(message)                .setPositiveButton(R.string.eth_sure) { dialog, _ ->                    dialog.dismiss()                    result?.confirm()                }                .setPositiveButton(R.string.eth_cancel) { dialog, _ ->                    dialog?.dismiss()                    result?.cancel()                }                .create()                .show()            return true        }        return false    }    override fun onJsConfirm(        view: WebView?,        url: String?,        message: String?,        result: JsResult?    ): Boolean {        view?.context?.let {            AlertDialog.Builder(it)                .setTitle(R.string.eth_warning)                .setMessage(message)                .setPositiveButton(R.string.eth_sure) { dialog, _ ->                    dialog.dismiss()                    result?.confirm()                }                .setPositiveButton(R.string.eth_cancel) { dialog, _ ->                    dialog?.dismiss()                    result?.cancel()                }                .create()                .show()            return true        }        return false    }}