package troll.eth.ui.webimport android.content.Contextimport android.graphics.Colorimport android.view.Viewimport android.webkit.WebSettingsimport android.webkit.WebViewimport troll.eth.R/** * author : TangPeng * date : 12/5/22 10:34 * description : */object WebUtil {    fun getWebViewCachePath(context: Context): String {        return context.filesDir.absolutePath.plus("/webCache")    }    fun defaultSetting(context: Context, web: WebView) {        web.run {            setBackgroundColor(Color.TRANSPARENT)            setBackgroundResource(R.color.white)            overScrollMode = View.OVER_SCROLL_NEVER            isNestedScrollingEnabled = false // 默认支持嵌套滑动            settings.run {                // 设置自适应屏幕                useWideViewPort = true                loadWithOverviewMode = true                // 缩放，默认true                setSupportZoom(false)                // 是否使用内置的缩放控制                builtInZoomControls = false                // 是否显示原生的缩放控件                displayZoomControls = false                // 设置文本缩放                textZoom = 100                // 访问数据                allowFileAccess = true                // 通过js打开新窗口                javaScriptCanOpenWindowsAutomatically = true                // 支持加载图片                loadsImagesAutomatically = true                blockNetworkImage = false                // 编码格式                defaultTextEncodingName = "utf-8"                layoutAlgorithm = WebSettings.LayoutAlgorithm.NORMAL                // 是否启用 DOM storage API                domStorageEnabled = true                // 是否启用 database storage API 功能                databaseEnabled = true                // 配置当安全源试图从不安全源加载资源时WebView的行为                mixedContentMode = WebSettings.MIXED_CONTENT_ALWAYS_ALLOW                // 设置缓存模式                cacheMode = WebSettings.LOAD_DEFAULT            }        }    }}