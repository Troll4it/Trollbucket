package troll.btc.utilimport android.annotation.SuppressLintimport android.text.TextUtilsimport troll.btc.constants.EMPTY/** * author : TangPeng * date : 8/8/22 19:23 * description :  手机版本 */object OS {    private const val KEY_MIUI_VERSION_NAME = "ro.miui.ui.version.name"// 小米    private const val KEY_EMUI_VERSION_NAME = "ro.build.version.emui" //    private const val KEY_DISPLAY = "ro.build.display.id" // 魅族    private fun getFlymeOSFlag(): String {        return getSystemProperty(KEY_DISPLAY)    }    /**     * 判断是否为emui3.x版本     */    fun isEMUI3_x(): Boolean {        return isEMUI3_0() || isEMUI3_1()    }    private fun isEMUI3_0(): Boolean {        return getEMUIVersion().contains("EmotionUI_3.0")    }    private fun isEMUI3_1(): Boolean {        val property: String = getEMUIVersion()        return "EmotionUI 3" == property || property.contains("EmotionUI_3.1")    }    private fun getEMUIVersion(): String {        return if (isEMUI()) getSystemProperty(KEY_EMUI_VERSION_NAME) else EMPTY    }    private fun isEMUI(): Boolean =        TextUtils.isEmpty(getSystemProperty(KEY_EMUI_VERSION_NAME)).not()    /**     * 获取系统属性     */    @SuppressLint("PrivateApi")    private fun getSystemProperty(key: String): String {        runCatching {            val clz = Class.forName("android.os.SystemProperties")            val method = clz.getMethod("get", String::class.java, String::class.java)            return method.invoke(clz, key, "") as String        }        return EMPTY    }}