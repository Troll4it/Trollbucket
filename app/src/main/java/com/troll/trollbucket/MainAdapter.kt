package com.troll.trollbucketimport android.view.LayoutInflaterimport android.view.ViewGroupimport android.widget.TextViewimport androidx.recyclerview.widget.DiffUtilimport androidx.recyclerview.widget.ListAdapterimport androidx.recyclerview.widget.RecyclerViewimport com.troll.trollbucket.databinding.LayoutItemMainBindingimport troll.btc.extensions.onClick/** * author : TangPeng * date : 5/25/22 20:17 * description : */class MainAdapter(private val onClick: (Main) -> Unit) :    ListAdapter<Main, MainAdapter.MainViewHolder>(MainDiffCallback) {    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MainViewHolder {        val bd =            LayoutItemMainBinding.inflate(LayoutInflater.from(parent.context), parent, false)        return MainViewHolder(bd, onClick)    }    override fun onBindViewHolder(holder: MainViewHolder, position: Int) {        val item = getItem(position)        holder.bind(item)    }    class MainViewHolder(        bd: LayoutItemMainBinding,        val onClick: (Main) -> Unit    ) : RecyclerView.ViewHolder(bd.root) {        private var data: Main? = null        private val tv: TextView = bd.itemMain        init {            tv.onClick {                data?.let { onClick(it) }            }        }        fun bind(data: Main) {            this.data = data            tv.text = data.title        }    }}object MainDiffCallback : DiffUtil.ItemCallback<Main>() {    override fun areItemsTheSame(oldItem: Main, newItem: Main): Boolean {        return oldItem == newItem    }    override fun areContentsTheSame(        oldItem: Main,        newItem: Main    ): Boolean {        return oldItem.title == newItem.title    }}