package wan.webimport android.annotation.SuppressLintimport android.view.LayoutInflaterimport android.view.ViewGroupimport android.widget.FrameLayoutimport com.alibaba.android.arouter.facade.annotation.Autowiredimport com.alibaba.android.arouter.facade.annotation.Routeimport troll.btc.constants.EMPTYimport troll.eth.base.viewbinding.BaseActivityimport troll.eth.ui.web.WebViewPoolimport wan.common.RoutePathimport wan.common.RouterKeyimport wan.web.databinding.ActivityWebBinding/** * author : TangPeng * date : 3/7/22 17:17 * description : */@Route(path = RoutePath.WEB_ACTIVITY)class WebActivity : BaseActivity<ActivityWebBinding>() {    @JvmField    @Autowired(name = RouterKey.URL)    var url: String = EMPTY    @JvmField    @Autowired(name = RouterKey.TITLE)    var title: String = EMPTY    private val web by lazy {        WebViewPool.getInstance().getView(this)    }    override fun getBinding(inflater: LayoutInflater): ActivityWebBinding =        ActivityWebBinding.inflate(inflater)    @SuppressLint("SetJavaScriptEnabled")    override fun flowData() {        url = intent.getStringExtra(RouterKey.URL).toString()        title = intent.getStringExtra(RouterKey.TITLE).toString()    }    override fun flowView() {        val layoutParams: FrameLayout.LayoutParams = FrameLayout.LayoutParams(            ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.MATCH_PARENT        )        web.layoutParams = layoutParams        bd.webLayout.addView(web)        bd.webTvTitle.text = title        web.loadUrl(url)    }    override fun onDestroy() {        WebViewPool.getInstance().recycle(web)        super.onDestroy()    }}