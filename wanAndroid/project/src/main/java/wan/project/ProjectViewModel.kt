package wan.projectimport kotlinx.coroutines.flow.MutableStateFlowimport kotlinx.coroutines.flow.asStateFlowimport troll.eth.base.viewbinding.BaseViewModelimport wan.common.network.createApiimport wan.project.bean.ProjectTree/** * author : TangPeng * date : 3/4/22 15:20 * description : */class ProjectViewModel : BaseViewModel() {    private val api = createApi<ProjectApi>()    private val _projectTreeState = MutableStateFlow(mutableListOf<ProjectTree>())    val projectTreeState = _projectTreeState.asStateFlow()    suspend fun getProjectTree() {        _projectTreeState.value = api.loadProjectTree().data?.toMutableList() ?: mutableListOf()    }}