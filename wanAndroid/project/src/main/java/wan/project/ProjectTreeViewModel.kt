package wan.projectimport kotlinx.coroutines.flow.MutableStateFlowimport kotlinx.coroutines.flow.StateFlowimport kotlinx.coroutines.flow.asStateFlowimport troll.eth.base.viewbinding.BaseViewModelimport wan.common.network.createApiimport wan.project.bean.ProjectContent/** * author : TangPeng * date : 3/7/22 15:45 * description : */class ProjectTreeViewModel : BaseViewModel() {    private val api = createApi<ProjectApi>()    private val _dataState = MutableStateFlow(mutableListOf<ProjectContent>())    val dataState: StateFlow<MutableList<ProjectContent>> = _dataState.asStateFlow()    suspend fun getData(cid: Int) {        _dataState.value = api.loadContentById(page = 1, cid = cid).data?.datas?.toMutableList()            ?: emptyList<ProjectContent>().toMutableList()    }}