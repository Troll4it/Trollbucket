package wan.home.uiimport android.view.LayoutInflaterimport android.widget.Toastimport androidx.fragment.app.viewModelsimport androidx.recyclerview.widget.ConcatAdapterimport androidx.recyclerview.widget.LinearLayoutManagerimport com.alibaba.android.arouter.launcher.ARouterimport troll.eth.base.viewbinding.BaseFragmentimport wan.common.RoutePathimport wan.common.RouterKeyimport wan.home.adapter.ArticleAdapterimport wan.home.adapter.HomeBannerAdapterimport wan.home.databinding.FragmentArticleBindingimport wan.home.viewmodel.ArticleViewModelimport java.util.concurrent.TimeUnit/** * author : TangPeng * date : 2/28/22 17:49 * description : */class ArticleFragment : BaseFragment<FragmentArticleBinding>() {    private val vm: ArticleViewModel by viewModels()    private val adapter by lazy {        ArticleAdapter {            ARouter.getInstance().build(RoutePath.WEB_ACTIVITY)                .withString(RouterKey.URL, it.link)                .withString(RouterKey.TITLE, it.title)                .navigation()        }    }    private val bannerAdapter by lazy {        HomeBannerAdapter {            println("点击点击HomeBannerAdapter")        }    }    override fun getBinding(inflater: LayoutInflater): FragmentArticleBinding =        FragmentArticleBinding.inflate(inflater)    override fun flowData() {        with(vm) {            getHome()            vm.liveArticle.observe(this@ArticleFragment) {                adapter.submitList(it)            }            vm.liveBanner.observe(this@ArticleFragment) {                bannerAdapter.submitList(it)            }        }    }    override fun flowView() {        bd.homeRv.layoutManager = LinearLayoutManager(requireContext())        bd.homeRv.adapter = ConcatAdapter(bannerAdapter, adapter)    }    companion object {        @JvmStatic        fun main(args: Array<String>) {        }    }}