package wan.home.uiimport android.view.LayoutInflaterimport androidx.fragment.app.viewModelsimport androidx.lifecycle.Lifecycleimport androidx.lifecycle.flowWithLifecycleimport androidx.lifecycle.lifecycleScopeimport androidx.recyclerview.widget.LinearLayoutManagerimport com.alibaba.android.arouter.launcher.ARouterimport kotlinx.coroutines.launchimport wan.common.CommonFragmentimport wan.common.RoutePathimport wan.common.RouterKeyimport wan.common.launchWithLoadingimport wan.home.adapter.QuestionAdapterimport wan.home.databinding.FragmentDailyQuestionBindingimport wan.home.viewmodel.DailyQuestionViewModel/** * author : TangPeng * date : 2/28/22 17:23 * description : */class DailyQuestionFragment : CommonFragment<FragmentDailyQuestionBinding>() {    private val vm: DailyQuestionViewModel by viewModels()    private val adapter = QuestionAdapter {        ARouter.getInstance().build(RoutePath.WEB_ACTIVITY)            .withString(RouterKey.URL, it.link)            .withString(RouterKey.TITLE, it.title)            .navigation()    }    override fun getBinding(inflater: LayoutInflater): FragmentDailyQuestionBinding =        FragmentDailyQuestionBinding.inflate(inflater)    override fun flowData() {        launchWithLoading(vm::getDailyQuestion)        lifecycleScope.launch {            vm.questionState.flowWithLifecycle(lifecycle, Lifecycle.State.STARTED).collect {                adapter.submitList(it)            }        }    }    override fun flowView() {        bd.questionRv.layoutManager = LinearLayoutManager(requireContext())        bd.questionRv.adapter = adapter    }}