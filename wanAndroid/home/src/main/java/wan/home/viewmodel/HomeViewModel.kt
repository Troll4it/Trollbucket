package wan.home.viewmodelimport androidx.lifecycle.viewModelScopeimport kotlinx.coroutines.launchimport troll.btc.extensions.Liveimport troll.eth.base.viewbinding.BaseViewModelimport wan.home.bean.ArticleDataimport wan.home.bean.Bannerimport wan.home.bean.BannerDataimport wan.home.repo.HomeRepo/** * author : TangPeng * date : 2/28/22 17:55 * description : */class HomeViewModel : BaseViewModel() {    private val repo = HomeRepo()    val liveArticle = Live<MutableList<ArticleData>>()    val liveBanner = Live<MutableList<Banner>>()    /**     * 获取文章首页     */    fun getHomeArticle(page: Int = 1) {        viewModelScope.launch {            liveArticle.value = repo.getHomeArticle(page).data?.datas?.toMutableList()        }    }    /**     * 获取banner     */    fun getBanner() {        viewModelScope.launch {            val data = repo.getBanner().data?.toMutableList()            liveBanner.value = mutableListOf<Banner>().apply {                add(Banner().apply {                    list = data                })            }        }    }    fun test() {        liveArticle.value = mutableListOf<ArticleData>().apply {            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })            this.add(ArticleData().apply {                title = "我的我的让我幅度为我带饭无法非师范师范师范"                author = "坐着坐着走在"            })        }        liveBanner.value = mutableListOf<Banner>().apply {            this.add(Banner().apply {                list = mutableListOf<BannerData>().apply {                    this.add(BannerData(imagePath = "https://www.wanandroid.com/blogimgs/50c115c2-cf6c-4802-aa7b-a4334de444cd.png"))                    this.add(BannerData(imagePath = "https://www.wanandroid.com/blogimgs/62c1bd68-b5f3-4a3c-a649-7ca8c7dfabe6.png"))                    this.add(BannerData(imagePath = "https://www.wanandroid.com/blogimgs/90c6cc12-742e-4c9f-b318-b912f163b8d0.png"))                }            })        }    }}