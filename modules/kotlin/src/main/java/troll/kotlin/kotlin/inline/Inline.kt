package troll.kotlin.kotlin.inlineimport android.text.Editableimport android.text.TextWatcherimport android.widget.TextView/** * author : TangPeng * date : 9/21/22 18:25 * description : * * crossinline 声明的 lambda 不允许局部返回，用于避免调用者错误的使用 return 导致函数中断 */inline fun TextView.addTextChangedListenerClosure(    crossinline afterTextChanged: (Editable?) -> Unit = {},    crossinline beforeTextChanged: (CharSequence?, Int, Int, Int) -> Unit = { charSequence, start, count, after -> },    crossinline onTextChanged: (CharSequence?, Int, Int, Int) -> Unit = { charSequence, start, after, count -> },    ) {    val listener = object : TextWatcher {        override fun afterTextChanged(s: Editable?) {            afterTextChanged.invoke(s)        }        override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {            beforeTextChanged.invoke(s, start, count, after)        }        override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {            onTextChanged.invoke(s, start, before, count)        }    }    this.addTextChangedListener(listener)}