package troll.kotlin.activityResultContractsimport android.app.Activityimport android.net.Uriimport android.view.LayoutInflaterimport troll.eth.base.viewbinding.BaseActivityimport troll.eth.ext.activityresult.launchimport troll.eth.ext.activityresult.registerForStartActivityResultimport troll.eth.ext.activityresult.registerForTakePictureResultimport troll.kotlin.databinding.ActivityResultContractBinding/** * * @url :https://github.com/DylanCaiCoding/Longan * https://juejin.cn/post/6987575150283587592#heading-7 */class ResultActivity : BaseActivity<ActivityResultContractBinding>() {    override fun getBinding(inflater: LayoutInflater): ActivityResultContractBinding =        ActivityResultContractBinding.inflate(inflater)    private val launcher = registerForStartActivityResult {        when (it.resultCode) {            Activity.RESULT_OK -> {                println("返回结果${it.data?.getStringExtra("key")}")            }        }    }    private var uri: Uri? = null    private val takePictureLauncher = registerForTakePictureResult {        if (it && uri != null) {            println("返回结果${uri}")        }    }    override fun flowData() {    }    override fun flowView() {        bd.contractButton.setOnClickListener {            launcher.launch<ResultTwoActivity>("name" to "name")        }        bd.takePicture.setOnClickListener {            uri = takePictureLauncher.launchAndSaveToCache()        }    }}