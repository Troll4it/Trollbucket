package troll.kotlin.animationimport android.content.Contextimport android.graphics.Canvasimport android.graphics.Colorimport android.graphics.Paintimport android.graphics.RectFimport android.util.AttributeSetimport android.view.View/** * author : TangPeng * date : 4/26/22 09:51 * description : */class ObjectAnimatorView @JvmOverloads constructor(    context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0) : View(context, attrs, defStyleAttr) {    private val paint = Paint().apply {        this.isAntiAlias = true        this.textAlign = Paint.Align.CENTER        this.color = Color.parseColor("#E91E63");        this.strokeWidth = 13F    }    private val rectF = RectF()    private val radius: Float = 80f    var progress = 0f        set(value) {            field = value            invalidate()        }    override fun onDraw(canvas: Canvas) {        super.onDraw(canvas)        val centerX = (width / 2).toFloat()        val centerY = (height / 2).toFloat()        paint.color = Color.parseColor("#E91E63")        paint.style = Paint.Style.STROKE        paint.strokeCap = Paint.Cap.ROUND        paint.strokeWidth = 15f        rectF.set(centerX - radius, centerY - radius, centerX + radius, centerY + radius)        canvas?.drawArc(rectF, 0f, progress, false, paint)        paint.color = Color.WHITE        paint.style = Paint.Style.FILL        canvas?.drawText(            "$progress%", centerX, centerY - (paint.ascent() + paint.descent()) / 2, paint        )    }}