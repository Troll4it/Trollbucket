package troll.kotlin.shortCutimport android.content.Contextimport android.content.Intentimport android.content.pm.ShortcutInfoimport android.content.pm.ShortcutManagerimport android.graphics.BitmapFactoryimport android.os.Buildimport android.view.LayoutInflaterimport com.troll.shortcut.Shortcutimport troll.btc.extensions.formatimport troll.btc.extensions.onClickimport troll.eth.base.viewbinding.BaseActivityimport troll.kotlin.Rimport troll.kotlin.databinding.ActivityShortCutBindingimport troll.kotlin.jetpack.JetpackActivity/** * author : TangPeng * date : 5/14/22 14:43 * description : */class ShortCutActivity : BaseActivity<ActivityShortCutBinding>() {    override fun getBinding(inflater: LayoutInflater): ActivityShortCutBinding =        ActivityShortCutBinding.inflate(inflater)    override fun flowData() {    }    override fun flowView() {        bd.shortMbAdd.onClick {            add(this)        }        bd.shortMbUpdate.onClick {            updata(this)        }        bd.shortMbQuery.onClick {            queryShortCutId(this).forEach {                println("查询出来的 id::::$it")            }        }    }    private fun add(context: Context) {        val intent = Intent(context, JetpackActivity::class.java)            .apply {                action = "shortcut"                flags = Intent.FLAG_ACTIVITY_NEW_TASK            }        Shortcut.addPinShortCutManager(            context,            "t",            "ceshi",            BitmapFactory.decodeResource(resources, R.drawable.ic_shortcut_cash), intent        )    }    private fun queryShortCutId(context: Context): MutableList<String> {        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N_MR1) {            val mShortcutManager = context.getSystemService(ShortcutManager::class.java)            val dynamicShortcuts = mShortcutManager.dynamicShortcuts            return dynamicShortcuts.map {                it.id            }.toMutableList()        }        return mutableListOf()    }    private fun updata(context: Context) {        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.N_MR1) {        }    }    private fun update(context: Context, list: MutableList<ShortcutInfo>) {        val curentIds = queryShortCutId(context)    }}fun main() {    println("格式化数据${111.1.format(2)}")    println("格式化数据${111.11113333f.format(2)}")}