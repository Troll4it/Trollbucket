package troll.kotlin.dialogimport android.app.Dialogimport android.content.Contextimport android.graphics.drawable.ColorDrawableimport android.os.Buildimport android.os.Bundleimport android.view.Windowimport android.view.WindowManagerimport androidx.annotation.RequiresApiimport androidx.appcompat.app.AppCompatDialogimport com.blankj.utilcode.util.BarUtilsimport com.blankj.utilcode.util.ScreenUtilsimport troll.kotlin.R/** * author : TangPeng * date : 5/20/22 08:57 * description : */// FIXME: 解决状态栏 状态不是最好的办法class FullDialog(context: Context) : AppCompatDialog(context, R.style.common_dialog) {    override fun onStart() {        super.onStart()    }    @RequiresApi(Build.VERSION_CODES.M)    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        requestWindowFeature(Window.FEATURE_NO_TITLE)        full()        setContentView(R.layout.dialog_full)    }    @RequiresApi(Build.VERSION_CODES.M)    fun full() {        val decorView = window?.decorView        decorView?.setPadding(0, 0, 0, 0)        window?.setBackgroundDrawable(ColorDrawable(context.getColor(R.color.color_80000000)))        val layoutParams = window!!.attributes        layoutParams.width = WindowManager.LayoutParams.MATCH_PARENT        layoutParams.height = ScreenUtils.getScreenHeight() - BarUtils.getActionBarHeight()// 这个不能解决，如果Dialog上的titleBar会造成颜色不一致//        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.P) {//            layoutParams.layoutInDisplayCutoutMode =//                WindowManager.LayoutParams.LAYOUT_IN_DISPL¡AY_CUTOUT_MODE_SHORT_EDGES//        }        window?.attributes = layoutParams    }}fun Dialog.full() {}